<?xml version="1.0" encoding="utf-8"?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:maps="clr-namespace:Microsoft.Maui.Controls.Maps;assembly=Microsoft.Maui.Controls.Maps"
             x:Class="CityTour.MainPage"
             Title="City Map">

    <Grid RowDefinitions="Auto,Auto,*">
        <!-- Header -->
        <Grid Padding="12" BackgroundColor="{StaticResource Primary}">
            <Label Text="CityTour" TextColor="White" FontSize="24" FontAttributes="Bold"/>
        </Grid>

        <!-- Search -->
        <Grid Grid.Row="1" Padding="12" BackgroundColor="White">
            <SearchBar x:Name="Search"
                       Placeholder="Search buildings..."
                       TextChanged="OnSearchTextChanged"
                       SearchButtonPressed="OnSearchButtonPressed"/>
        </Grid>

        <!-- Map -->
        <Grid Grid.Row="2">
            <maps:Map x:Name="Map" MapType="Street" IsShowingUser="true"/>

            <!-- NEW: Recenter button overlay -->
            <Button Text="⟳"
                    WidthRequest="48"
                    HeightRequest="48"
                    CornerRadius="24"
                    VerticalOptions="End"
                    HorizontalOptions="End"
                    Margin="16"
                    BackgroundColor="{StaticResource Accent}"
                    TextColor="White"
                    Clicked="OnRecenterClicked"/>
        </Grid>
    </Grid>
</ContentPage>
